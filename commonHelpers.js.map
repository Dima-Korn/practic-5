{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import { nanoid } from 'nanoid';\n\nconst form = document.querySelector('#task-form');\nconst listTag = document.querySelector('#task-list');\nconst KEY = 'tasks';\n\nlistTag.addEventListener('click', removeEl);\nform.addEventListener('submit', submitForm);\n\nfunction removeEl(event) {\n  if (event.target.nodeName !== 'BUTTON') return;\n  const deleteId = event.target.parentNode.id;\n  const data = JSON.parse(localStorage.getItem(KEY));\n  const dataFiltered = data.filter(obj => obj.id !== deleteId);\n  localStorage.setItem(KEY, JSON.stringify(dataFiltered));\n  event.target.parentNode.remove();\n}\n\nfunction submitForm(event) {\n  event.preventDefault();\n  console.dir(event.currentTarget.elements.taskName.value);\n  const inputValue = event.currentTarget.elements.taskName.value.trim();\n  if (!inputValue) return;\n\n  addTask(inputValue);\n  event.currentTarget.reset();\n}\n\nfunction createMurkup(value, id) {\n  listTag.insertAdjacentHTML(\n    'beforeend',\n    `<li id='${id}'>${value} <button type=\"button\">X</button></li>`\n  );\n}\n\nfunction addTask(input) {\n  const arr = JSON.parse(localStorage.getItem(KEY)) || [];\n  const id = nanoid();\n  console.log(id);\n  arr.push({ id, text: input });\n  localStorage.setItem(KEY, JSON.stringify(arr));\n  createMurkup(input, id);\n}\n\n// Отримуємо з LS дані для розмітки\n\nfunction listMemory() {\n  const arr = JSON.parse(localStorage.getItem(KEY));\n  if (!arr) return;\n\n  const markupData = arr\n    .map(\n      ({ id, text }) =>\n        `<li id='${id}'>${text} <button type=\"button\">X</button></li>`\n    )\n    .join('');\n  listTag.insertAdjacentHTML('beforeend', markupData);\n}\n\nlistMemory();\n"],"names":["form","listTag","KEY","removeEl","submitForm","event","deleteId","dataFiltered","obj","inputValue","addTask","createMurkup","value","id","input","arr","nanoid","listMemory","markupData","text"],"mappings":"svBAEA,MAAMA,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAU,SAAS,cAAc,YAAY,EAC7CC,EAAM,QAEZD,EAAQ,iBAAiB,QAASE,CAAQ,EAC1CH,EAAK,iBAAiB,SAAUI,CAAU,EAE1C,SAASD,EAASE,EAAO,CACvB,GAAIA,EAAM,OAAO,WAAa,SAAU,OACxC,MAAMC,EAAWD,EAAM,OAAO,WAAW,GAEnCE,EADO,KAAK,MAAM,aAAa,QAAQL,CAAG,CAAC,EACvB,OAAOM,GAAOA,EAAI,KAAOF,CAAQ,EAC3D,aAAa,QAAQJ,EAAK,KAAK,UAAUK,CAAY,CAAC,EACtDF,EAAM,OAAO,WAAW,QAC1B,CAEA,SAASD,EAAWC,EAAO,CACzBA,EAAM,eAAc,EACpB,QAAQ,IAAIA,EAAM,cAAc,SAAS,SAAS,KAAK,EACvD,MAAMI,EAAaJ,EAAM,cAAc,SAAS,SAAS,MAAM,OAC1DI,IAELC,EAAQD,CAAU,EAClBJ,EAAM,cAAc,QACtB,CAEA,SAASM,EAAaC,EAAOC,EAAI,CAC/BZ,EAAQ,mBACN,YACA,WAAWY,CAAE,KAAKD,CAAK,wCAC3B,CACA,CAEA,SAASF,EAAQI,EAAO,CACtB,MAAMC,EAAM,KAAK,MAAM,aAAa,QAAQb,CAAG,CAAC,GAAK,GAC/CW,EAAKG,IACX,QAAQ,IAAIH,CAAE,EACdE,EAAI,KAAK,CAAE,GAAAF,EAAI,KAAMC,CAAO,CAAA,EAC5B,aAAa,QAAQZ,EAAK,KAAK,UAAUa,CAAG,CAAC,EAC7CJ,EAAaG,EAAOD,CAAE,CACxB,CAIA,SAASI,GAAa,CACpB,MAAMF,EAAM,KAAK,MAAM,aAAa,QAAQb,CAAG,CAAC,EAChD,GAAI,CAACa,EAAK,OAEV,MAAMG,EAAaH,EAChB,IACC,CAAC,CAAE,GAAAF,EAAI,KAAAM,CAAM,IACX,WAAWN,CAAE,KAAKM,CAAI,wCACzB,EACA,KAAK,EAAE,EACVlB,EAAQ,mBAAmB,YAAaiB,CAAU,CACpD,CAEAD,EAAY"}